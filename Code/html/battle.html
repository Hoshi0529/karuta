<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>ãƒãƒˆãƒ«ç”»é¢</title>


    <link rel="stylesheet" href="../css/battle.css" type="text/css">


</head>
<body>
    
<div class="battle-container">
    <h1 id="nameDisplay"></h1><!-- ã“ã“ã«åå‰ã‚’è¡¨ç¤º -->

    
    <div class="yomiagesan" ><!--èª­ã¿ä¸Šã’ã®ã¨ã“ã‚-->
        <p class="yomiagenagare"id="yomiage">sample</p>
    </div>

    
        
    <div class="seitousan" id="seitou"><p><p></div><!--æ­£ç­”-->

<div class="score">
    <div class="scoresanp" id="scorep">*</div><!--ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç‚¹æ•°-->
    <div class="scoresanc" id="scorec" >*</div><!--CPUç‚¹æ•°-->
</div>
    

    <div class="cardsup"><!--çµµæœ­1~6æšç›®-->
        <button class="ca1" id="cards1"></button>
        <button class="ca2"id="cards2"></button>
        <button class="ca3"id="cards3"></button>
        <button class="ca4"id="cards4"></button>
        <button class="ca5"id="cards5"></button>
        <button class="ca6"id="cards6"></button>
    </div>

    <div class="carddo"><!--çµµæœ­7~11æšç›®-->
        <button class="ca7"id="cards7"></button>
        <button class="ca8"id="cards8"></button>
        <button class="ca9"id="cards9"></button>
        <button class="ca10"id="cards10"></button>
        <button class="ca11"id="cards11"></button>
    </div>
    </div>
<script>

// URLã‹ã‚‰ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
const urlParams = new URLSearchParams(window.location.search);
        const nameValue = urlParams.get('name');  // 'name'ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã‚’å–å¾—

        // å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤º
        document.getElementById('nameDisplay').textContent = nameValue;  // å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤º

    /* <div class="cardsup"><!--çµµæœ­1~6æšç›®
        <button class="ca1" id="cards1"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca2"id="cards2"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca3"id="cards3"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca4"id="cards4"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca5"id="cards5"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca6"id="cards6"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
    </div>
    <div class="carddo"><!--çµµæœ­7~11æšç›®
        <button class="ca7"id="cards7"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca8"id="cards8"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca9"id="cards9"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca10"id="cards10"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
        <button class="ca11"id="cards11"><img src="/133_4973107160556_PT01.jpg" height ="150px" width="100px" /></button>
    </div>*/
const ary = ['çŠ¬ã‚‚æ­©ã‘ã°æ£’ã«å½“ãŸã‚‹',
'è«–ã‚ˆã‚Šè¨¼æ‹ ','èŠ±ã‚ˆã‚Šå›£å­','æ†ã¾ã‚Œå­ä¸–ã«ã¯ã°ã‹ã‚‹','éª¨æŠ˜ã‚Šæã®ããŸã³ã‚Œå„²ã‘','ä¸‹æ‰‹ã®é•·è«‡ç¾©','ç¯å°ä¸‹æš—ã—','å¡µç©ã‚‚ã£ã¦å±±ã¨ãªã‚‹','è‰¯è–¬ã¯å£ã«è‹¦ã—','æ²¼åœ°ã«ã‚‚è“®ã®è¯','ç‘ ç’ƒã‚‚é‡ã‚‚ç…§ã›ã°å…‰ã‚‹','è€ã„ã¦ã¯å­ã«å¾“ã†','ç¬‘ã†é–€ã«ã¯ç¦æ¥ãŸã‚‹','å¯æ„›ã„å­ã«ã¯æ—…ã‚’ã•ã›','è‘¦ã®ãšã„ã‹ã‚‰å¤©ã®ãã','	æ—…ã¯é“é€£ã‚Œä¸–ã¯æƒ…ã‘','ç¤¼å„€ã‚‚éãã‚Œã°å¤±ç¤¼ã«ãªã‚‹','æã‚’ã—ã¦å¾—ã‚’ã¨ã‚Œ','ç¶´ã‚Œã‚’ç€ã¦ã‚‚å¿ƒã¯éŒ¦','å¿µã«ã¯å¿µã‚’å…¥ã‚Œã‚ˆ','æ³£ãé¢ã«èœ‚ãŒåˆºã™','æ¥½ã‚ã‚Œã°è‹¦ã‚ã‚Š','ç„¡ç†ãŒé€šã‚Œã°é“ç†å¼•ã£è¾¼ã‚€','å˜˜ã‹ã‚‰å‡ºãŸå®Ÿ','äº•ã®ä¸­ã®è›™å¤§æµ·ã‚’çŸ¥ã‚‰ãš','å–‰å…ƒéãã‚Œã°ç†±ã•å¿˜ã‚‹ã‚‹','é¬¼ã«é‡‘æ£’','è‡­ã„ç‰©ã«è“‹','å®‰ç‰©è²·ã„ã®éŠ­å¤±ã„','è² ã‘ã‚‹ã¯å‹ã¡','èŠ¸ã¯èº«ã‚’åŠ©ãã‚‹','æ²³è±šã¯é£Ÿã„ãŸã—å‘½ã¯æƒœã—ã„','è»¢ã°ã¬å…ˆã®æ–','å¾—æ‰‹ã«å¸†ã‚’æšã’ã‚‹','å‡ºã‚‹æ­ã¯æ‰“ãŸã‚‹','é ­éš ã—ã¦å°»éš ã•ãš','çŒ¿ã‚‚æœ¨ã‹ã‚‰è½ã¡ã‚‹','èãã¯å½“åº§ã®æ¥','æ²¹æ–­å¤§æ•µ','ç›®ã®ä¸Šã®ç˜¤','	èº«ã‹ã‚‰å‡ºãŸéŒ†','çŸ¥ã‚‰ã¬ãŒä»','ç¸ã®ä¸‹ã®åŠ›æŒ','è²§ä¹æš‡ãªã—','é–€å‰ã®å°åƒ§ç¿’ã‚ã¬çµŒã‚’èª­ã‚€','èƒŒã«è…¹ã¯ã‹ãˆã‚‰ã‚Œã¬','å¥½ãã“ãç‰©ã®ä¸Šæ‰‹ãªã‚Œ'];


let cards=[];//ä½¿ã£ã¦ãªã„
let cardsn=[];//é¸ã°ã‚ŒãŸçµµæœ­å…¥ã‚Œã¨ãé…åˆ—
let num;
let playerscore=0;//ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç‚¹æ•°
let cpuscore =0;//CPUã®ç‚¹æ•°
let res='';//å‹æ•—
let miss=0;//ãŠæ‰‹ä»˜ãã®å›æ•°
var cpuact =Boolean('');
var cnt=0;
for(let i =0;i<11;i++)//çµµæœ­ã‚’é‡è¤‡ãªã—ã§11æšé¸ã¶
{
    num=Math.floor(Math.random()*47);
    for(let j=0;j<=i;j++)
    {
        if(num===cardsn[j])//åŒã˜ã‚„ã¤ãŒã‚ã£ãŸã‚‰ãƒªã‚»ãƒƒãƒˆ
        {
            num=Math.floor(Math.random()*47);
            j=0;
        }
    }
    cardsn[i]=num;

    switch(i)//çµµæœ­ä¸¦ã¹ã‚‹
    {
        case 0:
        document.getElementById('cards1').textContent=ary[num];
        break;
        case 1:
        document.getElementById('cards2').textContent=ary[num];
        break;
        case 2:
        document.getElementById('cards3').textContent=ary[num];
        break;
        case 3:
        document.getElementById('cards4').textContent=ary[num];
        break;
        case 4:
        document.getElementById('cards5').textContent=ary[num];
        break;
        case 5:
        document.getElementById('cards6').textContent=ary[num];
        break;
        case 6:
        document.getElementById('cards7').textContent=ary[num];
        break;
        case 7:
        document.getElementById('cards8').textContent=ary[num];
        break;
        case 8:
        document.getElementById('cards9').textContent=ary[num];
        break;
        case 9:
        document.getElementById('cards10').textContent=ary[num];
        break;
        case 10:
        document.getElementById('cards11').textContent=ary[num];
        break;
    }
}
 
//ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†èª­ã¿æœ­ã®ã¨ã“ã“ã“ã ã‚ˆğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†
let restcards=11;//æ®‹ã‚Šæšæ•°
//game start! ì•„íŒŒíŠ¸, ì•„íŒŒíŠ¸ ì•„íŒŒíŠ¸, ì•„íŒŒíŠ¸ ì•„íŒŒíŠ¸, ì•„íŒŒíŠ¸ Uh, uh-huh, uh-huh///////////////////////////////////////////////////////////////////
 
    const doyomiage = () =>//èª­ã¿æœ­æŠ½é¸é–¢æ•°
    {
        if(restcards>0)//æ®‹ã‚Šæœ­ãŒã‚ã‚‹ã®ã§ç¶™ç¶š
        {
            //document.getElementById('scorep').textContent=3;ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç‚¹æ•°
            let yomiagen = Math.floor(Math.random()*12);
            if(yomiagen==11)//ã‹ã‚‰æœ­ã‚ˆã‚€ã‹ã‚‚
            {
                yomiagen = Math.floor(Math.random()*47);
                document.getElementById('yomiage').textContent=ary[yomiagen];
            }
            else//èª­ã¿æœ­ã®ä¸­ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ 
            {
                document.getElementById('yomiage').textContent=ary[cardsn[yomiagen]];
            }
/////////////////////////////////////////////////////CPUã®å‡¦ç†//////////////////////////////////////////////////////////////////////////////

        const cpuaction = function()
        {
            
        clearTimeout(timeiD);
            for(let i=0;i<11;i++)
            {
                if(document.getElementById('yomiage').textContent==ary[cardsn[i]])//æ­£è§£ã®æœ­ã‚’æœç´¢
                {
                    var ote=Math.floor(Math.random()*5);//0~4
                    if(ote==4)//ãŠæ‰‹ä»˜ãã•ã›ã‚‹
                    {
                        if(i>=5){i=i-3;}
                        else    {i=i+3;}
                    }
                    cpuact='t';//ã“ã‚Œã¯CPUã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã‚ˆ
                        switch(i)
                        {
                            case 0:cardcheck1c();break;
                            case 1:cardcheck2c();break;
                            case 2:cardcheck3c();break;
                            case 3:cardcheck4c();break;
                            case 4:cardcheck5c();break;
                            case 5:cardcheck6c();break;
                            case 6:cardcheck7c();break;
                            case 7:cardcheck8c();break;
                            case 8:cardcheck9c();break;
                            case 9:cardcheck10c();break;
                            case 10:cardcheck11c();break;
                        }
                        break;
                }
                else if(i==11){

                }
            }
        }
        const timeiD =setTimeout(cpuaction,5000)//5ç§’å¾Œã«CPUãŒå‹•ãå§‹ã‚ã‚‹ã‚ˆ
        cnt+=1;document.getElementById('seitou').textContent='é€šã£ã¦ã‚‹ã‚ˆ:'+cnt+'å›';//ãƒã‚°ã®ç®‡æ‰€ç‰¹å®šã™ã‚‹ã‚„ã¤
        }
        else//å–ã‚Šãã£ãŸã®ã§å‹æ•—åˆ¤å®š
        {
            document.getElementById('yomiage').textContent='çµ‚äº†ï¼';
            if(playerscore>cpuscore)//å‹ã¡
            {
                res='å‹åˆ©';
                const url = `./result.html?name=${encodeURIComponent(res+':'+miss)}`;
                location.href = url;  
            }
            else if(playerscore<cpuscore)//è² ã‘
            {
                res='è² ã‘';
                const url = `./result.html?name=${encodeURIComponent(res+':'+miss)}`;
                location.href = url;
            }
            else//å¼•ãåˆ†ã‘
            {
                res='å¼•ãåˆ†ã‘';
                const url = `./result.html?name=${encodeURIComponent(res+':'+miss)}`;
                location.href = url;  
            }
        }
    }
            if(restcards==11)//1å›ç›®ã ã‘ã“ã‚Œã§å‘¼ã³å‡ºã—
            {
                doyomiage();
            }

        
////////////////////////////////////////////////////////ã“ã“ã‹ã‚‰ã—ã°ã‚‰ãæ­£èª¤åˆ¤å®š//////////////////////////////////////////////
    const cardcheck1 = () =>
    {
        if(document.getElementById('cards1').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck2 = () =>
    {
        if(document.getElementById('cards2').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck3 = () =>
    {
        if(document.getElementById('cards3').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck4 = () =>
    {
        if(document.getElementById('cards4').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck5 = () =>
    {
        if(document.getElementById('cards5').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck6 = () =>
    {
        if(document.getElementById('cards6').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck7 = () =>
    {
        if(document.getElementById('cards7').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck8 = () =>
    {
        if(document.getElementById('cards8').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck9 = () =>
    {
        if(document.getElementById('cards9').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck10 = () =>
    {
        if(document.getElementById('cards10').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }
    const cardcheck11 = () =>
    {
        if(document.getElementById('cards11').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correct();
        }
        else//ãŠã¦ã¤ã
        {
            incorrect();
        }
    }

    const cardcheck1c = () =>
    {
        if(document.getElementById('cards1').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck2c = () =>
    {
        if(document.getElementById('cards2').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck3c = () =>
    {
        if(document.getElementById('cards3').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck4c = () =>
    {
        if(document.getElementById('cards4').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck5c = () =>
    {
        if(document.getElementById('cards5').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck6c = () =>
    {
        if(document.getElementById('cards6').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck7c = () =>
    {
        if(document.getElementById('cards7').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck8c = () =>
    {
        if(document.getElementById('cards8').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck9c = () =>
    {
        if(document.getElementById('cards9').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck10c = () =>
    {
        if(document.getElementById('cards10').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }
    const cardcheck11c = () =>
    {
        if(document.getElementById('cards11').textContent===document.getElementById('yomiage').textContent)//æ­£è§£
        {
            correctc();
        }
        else//ãŠã¦ã¤ã
        {
            incorrectc();
        }
    }

    const correct = () =>{
        playerscore+=1;
        document.getElementById('scorep').textContent=playerscore;
        //document.getElementById('seitou').textContent=restcards;//æ®‹ã‚Šæšæ•°ã¿ã¦ã‚‹ã ã‘
        restcards-=1;
        doyomiage();
    }
    const incorrect = () =>{
        miss+=1;
        restcards-=1;
        //document.getElementById('seitou').textContent=restcards;
        doyomiage();
    }
    const correctc = () =>{
        cpuscore+=1;
        document.getElementById('scorec').textContent=cpuscore;
        restcards-=1;
        doyomiage();
    }
    const incorrectc = () =>{
        restcards-=1;
        doyomiage();
    }
    document.getElementById('cards1').addEventListener('click',cardcheck1)
    document.getElementById('cards2').addEventListener('click',cardcheck2)
    document.getElementById('cards3').addEventListener('click',cardcheck3)
    document.getElementById('cards4').addEventListener('click',cardcheck4)
    document.getElementById('cards5').addEventListener('click',cardcheck5)
    document.getElementById('cards6').addEventListener('click',cardcheck6)
    document.getElementById('cards7').addEventListener('click',cardcheck7)
    document.getElementById('cards8').addEventListener('click',cardcheck8)
    document.getElementById('cards9').addEventListener('click',cardcheck9)
    document.getElementById('cards10').addEventListener('click',cardcheck10)
    document.getElementById('cards11').addEventListener('click',cardcheck11)
////////////////////////////////////////////////////////æ­£èª¤åˆ¤å®šçµ‚ã‚ã‚Š////////////////////////////////////////////
//document.getElementById('seitou').textContent=restcards+"fff";

</script>
</div>
</body>
</html>